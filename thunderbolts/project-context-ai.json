{
  "jsconfig.json": "{\n  \"compilerOptions\": {\n    \"paths\": {\n      \"@/*\": [\"./src/*\"]\n    }\n  }\n}\n",
  "package-lock.json": "{\n  \"name\": \"thunderbolts\",\n  \"version\": \"0.1.0\",\n  \"lockfileVersion\": 3,\n  \"requires\": true,\n  \"packages\": {\n    \"\": {\n      \"name\": \"thunderbolts\",\n      \"version\": \"0.1.0\",\n      \"dependencies\": {\n        \"@auth/mongodb-adapter\": \"^3.11.1\",\n        \"bcryptjs\": \"^3.0.3\",\n        \"mongodb\": \"^6.21.0\",\n        \"mongoose\": \"^9.1.5\",\n        \"next\": \"16.1.6\",\n        \"next-auth\": \"^4.24.13\",\n        \"react\": \"19.2.3\",\n        \"react-dom\": \"19.2.3\"\n      },\n      \"devDependencies\": {\n        \"@tailwindcss/postcss\": \"^4\",\n        \"eslint\": \"^9\",\n        \"eslint-config-next\": \"16.1.6\",\n        \"tailwindcss\": \"^4\"\n      }\n    },\n    \"node_modules/@alloc/quick-lru\": {\n      \"version\": \"5.2.0\",\n      \"resolved\": \"https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz\",\n      \"integrity\": \"sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==\",\n      \"dev\": true,\n      \"license\": \"MIT\",\n      \"engines\": {\n        \"node\": \">=10\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/sindresorhus\"\n      }\n    },\n    \"node_modules/@auth/core\": {\n      \"version\": \"0.34.3\",\n      \"resolved\": \"https://registry.npmjs.org/@auth/core/-/core-0.34.3.tgz\",\n      \"integrity\": \"sha512-jMjY/S0doZnWYNV90x0jmU3B+UcrsfGYnukxYrRbj0CVvGI/MX3JbHsxSrx2d4mbnXaUsqJmAcDfoQWA6r0lOw==\",\n      \"license\": \"ISC\",\n      \"optional\": true,\n      \"peer\": true,\n      \"dependencies\": {\n        \"@panva/hkdf\": \"^1.1.1\",\n        \"@types/cookie\": \"0.6.0\",\n        \"cookie\": \"0.6.0\",\n        \"jose\": \"^5.1.3\",\n        \"oauth4webapi\": \"^2.10.4\",\n        \"preact\": \"10.11.3\",\n        \"preact-render-to-string\": \"5.2.3\"\n      },\n      \"peerDependencies\": {\n        \"@simplewebauthn/browser\": \"^9.0.1\",\n        \"@simplewebauthn/server\": \"^9.0.2\",\n        \"nodemailer\": \"^7\"\n      },\n      \"peerDependenciesMeta\": {\n        \"@simplewebauthn/browser\": {\n          \"optional\": true\n        },\n        \"@simplewebauthn/server\": {\n          \"optional\": true\n        },\n        \"nodemailer\": {\n          \"optional\": true\n        }\n      }\n    },\n    \"node_modules/@auth/core/node_modules/cookie\": {\n      \"version\": \"0.6.0\",\n      \"resolved\": \"https://registry.npmjs.org/cookie/-/cookie-0.6.0.tgz\",\n      \"integrity\": \"sha512-U71cyTamuh1CRNCfpGY6to28lxvNwPG4Guz/EVjgf3Jmzv0vlDp1atT9eS5dDjMYHucpHbWns6Lwf3BKz6svdw==\",\n      \"license\": \"MIT\",\n      \"optional\": true,\n      \"peer\": true,\n      \"engines\": {\n        \"node\": \">= 0.6\"\n      }\n    },\n    \"node_modules/@auth/core/node_modules/jose\": {\n      \"version\": \"5.10.0\",\n      \"resolved\": \"https://registry.npmjs.org/jose/-/jose-5.10.0.tgz\",\n      \"integrity\": \"sha512-s+3Al/p9g32Iq+oqXxkW//7jk2Vig6FF1CFqzVXoTUXt2qz89YWbL+OwS17NFYEvxC35n0FKeGO2LGYSxeM2Gg==\",\n      \"license\": \"MIT\",\n      \"optional\": true,\n      \"peer\": true,\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/panva\"\n      }\n    },\n    \"node_modules/@auth/core/node_modules/preact\": {\n      \"version\": \"10.11.3\",\n      \"resolved\": \"https://registry.npmjs.org/preact/-/preact-10.11.3.tgz\",\n      \"integrity\": \"sha512-eY93IVpod/zG3uMF22Unl8h9KkrcKIRs2EGar8hwLZZDU1lkjph303V9HZBwufh2s736U6VXuhD109LYqPoffg==\",\n      \"license\": \"MIT\",\n      \"optional\": true,\n      \"peer\": true,\n      \"funding\": {\n        \"type\": \"opencollective\",\n        \"url\": \"https://opencollective.com/preact\"\n      }\n    },\n    \"node_modules/@auth/core/node_modules/preact-render-to-string\": {\n      \"version\": \"5.2.3\",\n      \"resolved\": \"https://registry.npmjs.org/preact-render-to-string/-/preact-render-to-string-5.2.3.tgz\",\n      \"integrity\": \"sha512-aPDxUn5o3GhWdtJtW0svRC2SS/l8D9MAgo2+AWml+BhDImb27ALf04Q2d+AHqUUOc6RdSXFIBVa2gxzgMKgtZA==\",\n      \"license\": \"MIT\",\n      \"optional\": true,\n      \"peer\": true,\n      \"dependencies\": {\n        \"pretty-format\": \"^3.8.0\"\n      },\n      \"peerDependencies\": {\n        \"preact\": \">=10\"\n      }\n    },\n    \"node_modules/@auth/mongodb-adapter\": {\n      \"version\": \"3.11.1\",\n      \"resolved\": \"https://registry.npmjs.org/@auth/mongodb-adapter/-/mongodb-adapter-3.11.1.tgz\",\n      \"integrity\": \"sha512-xY+VUkC3CNXct8UwQgBAQqXASqolSlIARg6oAm1378CtRN2650tQUCOEnGLNLmroVefUeP73M6t+TpGXq72vwQ==\",\n      \"license\": \"ISC\",\n      \"dependencies\": {\n        \"@auth/core\": \"0.41.1\"\n      },\n      \"peerDependencies\": {\n        \"mongodb\": \"^6\"\n      }\n    },\n    \"node_modules/@auth/mongodb-adapter/node_modules/@auth/core\": {\n      \"version\": \"0.41.1\",\n      \"resolved\": \"https://registry.npmjs.org/@auth/core/-/core-0.41.1.tgz\",\n      \"integrity\": \"sha512-t9cJ2zNYAdWMacGRMT6+r4xr1uybIdmYa49calBPeTqwgAFPV/88ac9TEvCR85pvATiSPt8VaNf+Gt24JIT/uw==\",\n      \"license\": \"ISC\",\n      \"dependencies\": {\n        \"@panva/hkdf\": \"^1.2.1\",\n        \"jose\": \"^6.0.6\",\n        \"oauth4webapi\": \"^3.3.0\",\n        \"preact\": \"10.24.3\",\n        \"preact-render-to-string\": \"6.5.11\"\n      },\n      \"peerDependencies\": {\n        \"@simplewebauthn/browser\": \"^9.0.1\",\n        \"@simplewebauthn/server\": \"^9.0.2\",\n        \"nodemailer\": \"^7.0.7\"\n      },\n      \"peerDependenciesMeta\": {\n        \"@simplewebauthn/browser\": {\n          \"optional\": true\n        },\n        \"@simplewebauthn/server\": {\n          \"optional\": true\n        },\n        \"nodemailer\": {\n          \"optional\": true\n        }\n      }\n    },\n    \"node_modules/@auth/mongodb-adapter/node_modules/jose\": {\n      \"version\": \"6.1.3\",\n      \"resolved\": \"https://registry.npmjs.org/jose/-/jose-6.1.3.tgz\",\n      \"integrity\": \"sha512-0TpaTfihd4QMNwrz/ob2Bp7X04yuxJkjRGi4aKmOqwhov54i6u79oCv7T+C7lo70MKH6BesI3vscD1yb/yzKXQ==\",\n      \"license\": \"MIT\",\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/panva\"\n      }\n    },\n    \"node_modules/@auth/mongodb-adapter/node_modules/oauth4webapi\": {\n      \"version\": \"3.8.3\",\n      \"resolved\": \"https://registry.npmjs.org/oauth4webapi/-/oauth4webapi-3.8.3.tgz\",\n      \"integrity\": \"sha512-pQ5BsX3QRTgnt5HxgHwgunIRaDXBdkT23tf8dfzmtTIL2LTpdmxgbpbBm0VgFWAIDlezQvQCTgnVIUmHupXHxw==\",\n      \"license\": \"MIT\",\n      \"funding\": {\n        \"url\": \"h\n\n// ✂️ Truncated for AI (original 247354 characters)",
  "package.json": "{\n  \"name\": \"thunderbolts\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build\",\n    \"start\": \"next start\",\n    \"lint\": \"eslint\"\n  },\n  \"dependencies\": {\n    \"@auth/mongodb-adapter\": \"^3.11.1\",\n    \"bcryptjs\": \"^3.0.3\",\n    \"mongodb\": \"^6.21.0\",\n    \"mongoose\": \"^9.1.5\",\n    \"next\": \"16.1.6\",\n    \"next-auth\": \"^4.24.13\",\n    \"react\": \"19.2.3\",\n    \"react-dom\": \"19.2.3\"\n  },\n  \"devDependencies\": {\n    \"@tailwindcss/postcss\": \"^4\",\n    \"eslint\": \"^9\",\n    \"eslint-config-next\": \"16.1.6\",\n    \"tailwindcss\": \"^4\"\n  }\n}\n",
  "project-context-ai.json": "{}",
  "src\\app\\(auth)\\log-in\\page.js": "\"use client\";\r\nimport React, { useState } from 'react';\r\nimport { signIn } from 'next-auth/react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const [role, setRole] = useState('donor'); // 'donor' or 'ngo'\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  setLoading(true);\r\n  setError(\"\");\r\n\r\n  try {\r\n    const result = await signIn(\"credentials\", {\r\n  redirect: false,\r\n  email: formData.email,\r\n  password: formData.password,\r\n  // role: role,   ← removed!\r\n});\r\n\r\n    if (result?.error) {\r\n      // result.error contains the string returned from your authorize function\r\n      setError(result.error === \"CredentialsSignin\" ? \"Invalid email or password\" : result.error);\r\n    } else {\r\n      // Force a hard refresh to ensure the session is picked up by the layout\r\n      window.location.href = role === 'donor' ? '/donor' : '/organisation';\r\n    }\r\n  } catch (err) {\r\n    setError(\"An unexpected error occurred.\");\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-white text-slate-900 font-sans\">\r\n      <div className=\"w-full max-w-md p-8 border border-slate-200\">\r\n        {/* Header */}\r\n        <div className=\"mb-10 text-center\">\r\n          <h1 className=\"text-2xl font-bold tracking-tight uppercase\">FoodLink Login</h1>\r\n          <p className=\"text-sm text-slate-500 mt-2\">Team ThunderBolts • Problem CS01SW</p>\r\n        </div>\r\n\r\n        {/* Role Selection */}\r\n        <div className=\"flex mb-8 border border-slate-900\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setRole('donor')}\r\n            className={`flex-1 py-3 text-sm font-bold transition-colors ${\r\n              role === 'donor' ? 'bg-slate-900 text-white' : 'bg-transparent text-slate-900 hover:bg-slate-50'\r\n            }`}\r\n          >\r\n            DONOR\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setRole('ngo')}\r\n            className={`flex-1 py-3 text-sm font-bold transition-colors ${\r\n              role === 'ngo' ? 'bg-slate-900 text-white' : 'bg-transparent text-slate-900 hover:bg-slate-50'\r\n            }`}\r\n          >\r\n            NGO\r\n          </button>\r\n        </div>\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"mb-6 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 text-xs font-bold uppercase\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {/* Form */}\r\n        <form className=\"space-y-6\" onSubmit={handleSubmit}>\r\n          <div>\r\n            <label className=\"block text-xs font-bold uppercase tracking-wider mb-2\">Email Address</label>\r\n            <input \r\n              required\r\n              type=\"email\" \r\n              placeholder=\"email@example.com\"\r\n              value={formData.email}\r\n              onChange={(e) => setFormData({...formData, email: e.target.value})}\r\n              className=\"w-full px-4 py-3 border border-slate-300 focus:border-slate-900 focus:outline-none transition-colors\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-xs font-bold uppercase tracking-wider mb-2\">Password</label>\r\n            <input \r\n              required\r\n              type=\"password\" \r\n              placeholder=\"••••••••\"\r\n              value={formData.password}\r\n              onChange={(e) => setFormData({...formData, password: e.target.value})}\r\n              className=\"w-full px-4 py-3 border border-slate-300 focus:border-slate-900 focus:outline-none transition-colors\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between text-xs font-medium\">\r\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\r\n              <input type=\"checkbox\" className=\"w-4 h-4 border-slate-900 rounded-none accent-slate-900\" />\r\n              <span>Remember me</span>\r\n            </label>\r\n            <a href=\"#\" className=\"underline hover:text-emerald-600 transition\">Forgot Password?</a>\r\n          </div>\r\n\r\n          <button \r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className={`w-full py-4 font-bold uppercase tracking-widest transition-colors ${\r\n              loading ? 'bg-slate-400 cursor-not-allowed' : 'bg-emerald-600 hover:bg-emerald-700'\r\n            } text-white`}\r\n          >\r\n            {loading ? \"Authenticating...\" : `Sign In as ${role}`}\r\n          </button>\r\n        </form>\r\n\r\n        {/* Footer Link */}\r\n        <div className=\"mt-8 text-center text-sm\">\r\n          <span className=\"text-slate-500\">New to FoodLink? </span>\r\n          <a href=\"/register\" className=\"font-bold underline hover:text-emerald-600 transition\">Create Account</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}",
  "src\\app\\(donor)\\donor\\page.js": "",
  "src\\app\\(donor)\\layout.js": "",
  "src\\app\\(organisation)\\layout.js": "",
  "src\\app\\(organisation)\\organisation\\page.js": "",
  "src\\app\\api\\auth\\[...nextauth]\\route.js": "import NextAuth from \"next-auth\";\r\nimport CredentialsProvider from \"next-auth/providers/credentials\";\r\nimport connectDB from \"@/lib/db\";\r\nimport User from \"@/models/User\";\r\nimport bcrypt from \"bcryptjs\";\r\n\r\nexport const authOptions = {\r\n  session: { \r\n    strategy: \"jwt\",\r\n    maxAge: 30 * 24 * 60 * 60, // 30 days\r\n  },\r\n  providers: [\r\n    CredentialsProvider({\r\n      name: \"credentials\",\r\n      credentials: {},\r\nasync authorize(credentials) {\r\n  try {\r\n    console.log(\"authorize called with:\", credentials);\r\n\r\n    await connectDB();\r\n    console.log(\"DB connected\");\r\n\r\n    if (!credentials?.email || !credentials?.password) {\r\n      console.log(\"Missing email/password\");\r\n      return null;\r\n    }\r\n\r\n    const user = await User.findOne({ \r\n      email: credentials.email.toLowerCase() \r\n    }).lean();   // ← lean() is faster for read-only\r\n\r\n    if (!user) {\r\n      console.log(\"No user found for:\", credentials.email);\r\n      return null;\r\n    }\r\n\r\n    console.log(\"User found:\", user.email, \"role:\", user.role);\r\n\r\n    const isValid = await bcrypt.compare(credentials.password, user.password);\r\n    console.log(\"Password valid?\", isValid);\r\n\r\n    if (!isValid) return null;\r\n\r\n    return {\r\n      id: user._id.toString(),\r\n      email: user.email,\r\n      name: user.name || null,\r\n      role: user.role   // ← this is what matters\r\n    };\r\n  } catch (err) {\r\n    console.error(\"Authorize crashed:\", err);\r\n    return null;\r\n  }\r\n},\r\n    }),\r\n  ],\r\n  callbacks: {\r\n    async jwt({ token, user }) {\r\n      if (user) token.role = user.role;\r\n      return token;\r\n    },\r\n    async session({ session, token }) {\r\n      if (session.user) session.user.role = token.role;\r\n      return session;\r\n    },\r\n  },\r\n  pages: {\r\n    signIn: \"/log-in\",\r\n    error: \"/log-in\", // Redirect back to login on error\r\n  },\r\n  secret: process.env.NEXTAUTH_SECRET,\r\n};\r\n\r\nconst handler = NextAuth(authOptions);\r\nexport { handler as GET, handler as POST };",
  "src\\app\\globals.css": "@import \"tailwindcss\";\n\n:root {\n  --background: #ffffff;\n  --foreground: #171717;\n}\n\n@theme inline {\n  --color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --font-sans: var(--font-geist-sans);\n  --font-mono: var(--font-geist-mono);\n}\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    --background: #0a0a0a;\n    --foreground: #ededed;\n  }\n}\n\nbody {\n  background: var(--background);\n  color: var(--foreground);\n  font-family: Arial, Helvetica, sans-serif;\n}\n",
  "src\\app\\layout.js": "import { Geist, Geist_Mono } from \"next/font/google\";\nimport \"./globals.css\";\nimport Providers from \"@/components/Providers\";\n\nconst geistSans = Geist({\n  variable: \"--font-geist-sans\",\n  subsets: [\"latin\"],\n});\n\nconst geistMono = Geist_Mono({\n  variable: \"--font-geist-mono\",\n  subsets: [\"latin\"],\n});\n\nexport const metadata = {\n  title: \"Create Next App\",\n  description: \"Generated by create next app\",\n};\n\nexport default function RootLayout({ children }) {\n  return (\n    <html lang=\"en\">\n      <body\n        className={`${geistSans.variable} ${geistMono.variable} antialiased`}\n      >\n<Providers>\n        {children}\n</Providers>\n      </body>\n    </html>\n  );\n}\n",
  "src\\app\\page.js": "\"use client\";\nimport React from 'react';\nimport Link from 'next/link';\nimport Navbar from '@/components/Navbar';\nimport Footer from '@/components/Footer';\nimport Hero from '@/components/Hero';\n\nexport default function LandingPage() {\n  return (\n    <div className=\"min-h-screen bg-slate-50 font-sans text-slate-900\">\n      <Navbar/>\n     {/* Hero Section*/}\n     <Hero/>\n\n      {/* --- Statistics / Impact Section --- */}\n      <section id=\"impact\" className=\"py-16 px-8\">\n        <div className=\"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 text-center\">\n          <div className=\"p-8 bg-white rounded-2xl shadow-sm border border-slate-100\">\n            <h3 className=\"text-4xl font-bold text-emerald-600 mb-2\">500+</h3>\n            <p className=\"text-slate-500 font-medium uppercase tracking-wide\">Meals Delivered</p>\n          </div>\n          <div className=\"p-8 bg-white rounded-2xl shadow-sm border border-slate-100\">\n            <h3 className=\"text-4xl font-bold text-emerald-600 mb-2\">45</h3>\n            <p className=\"text-slate-500 font-medium uppercase tracking-wide\">Partnered NGOs</p>\n          </div>\n          <div className=\"p-8 bg-white rounded-2xl shadow-sm border border-slate-100\">\n            <h3 className=\"text-4xl font-bold text-emerald-600 mb-2\">1.2 Tons</h3>\n            <p className=\"text-slate-500 font-medium uppercase tracking-wide\">Waste Prevented</p>\n          </div>\n        </div>\n      </section>\n\n      {/* --- Features Section --- */}\n      <section id=\"how-it-works\" className=\"py-20 px-8 bg-white\">\n        <div className=\"max-w-6xl mx-auto text-center mb-16\">\n          <h2 className=\"text-3xl font-bold mb-4\">Our Real-Time Platform Features</h2>\n          <div className=\"w-20 h-1 bg-emerald-500 mx-auto\"></div>\n        </div>\n        \n        <div className=\"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12\">\n          {[\n            { title: \"Smart Matching\", desc: \"Location-based matching between nearby donors and NGOs for fast pickup.\" },\n            { title: \"Real-time Tracking\", desc: \"Live updates on food availability, quantity, and expiry times.\" },\n            { title: \"Verified Partners\", desc: \"Security through digital verification of all donors and volunteer NGOs.\" }\n          ].map((feature, i) => (\n            <div key={i} className=\"group hover:transform hover:-translate-y-2 transition-all duration-300\">\n              <div className=\"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-2xl flex items-center justify-center mb-6 text-2xl mx-auto group-hover:bg-emerald-600 group-hover:text-white transition-colors\">\n                {i + 1}\n              </div>\n              <h4 className=\"text-xl font-bold mb-3\">{feature.title}</h4>\n              <p className=\"text-slate-600 leading-relaxed\">{feature.desc}</p>\n            </div>\n          ))}\n        </div>\n      </section>\n\n    <Footer/>\n    </div>\n  );\n}",
  "src\\app\\test-session\\page.js": "\"use client\";\r\nimport { useSession } from \"next-auth/react\";\r\n\r\nexport default function DebugSession() {\r\n  const { data: session, status } = useSession();\r\n\r\n  if (status === \"loading\") return <div>Loading session...</div>;\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h1>Session Debug</h1>\r\n      <pre className=\"bg-gray-100 p-4 rounded overflow-auto\">\r\n        {JSON.stringify({ status, session }, null, 2)}\r\n      </pre>\r\n    </div>\r\n  );\r\n}",
  "src\\components\\Footer.js": "import React from 'react'\r\n\r\nfunction Footer() {\r\n  return (\r\n   <>\r\n     {/* --- Footer --- */}\r\n      <footer className=\"bg-slate-900 text-slate-400 py-12 px-8\">\r\n        <div className=\"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center\">\r\n          <div className=\"mb-6 md:mb-0\">\r\n            <div className=\"text-2xl font-bold text-white mb-2\">FoodLink</div>\r\n            <p>VVM's SHREE DAMODAR COLLEGE</p>\r\n          </div>\r\n          <div className=\"text-sm\">\r\n            © 2026 Team ThunderBolts. All rights reserved.\r\n          </div>\r\n        </div>\r\n      </footer>\r\n   </>\r\n  )\r\n}\r\n\r\nexport default Footer",
  "src\\components\\Hero.js": "import React from 'react'\r\n\r\nfunction Hero() {\r\n  return (\r\n    <>\r\n    {/* --- Hero Section --- */}\r\n      <header className=\"px-8 py-20 bg-emerald-600 text-white text-center\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <h1 className=\"text-5xl font-extrabold mb-6 leading-tight\">\r\n            Connecting Surplus Food to Those in Need\r\n          </h1>\r\n          <p className=\"text-xl mb-10 opacity-90\">\r\n            Real-time food redistribution to reduce waste and fight hunger in our community.\r\n          </p>\r\n          <div className=\"flex flex-wrap justify-center gap-4\">\r\n            <button className=\"px-8 py-4 bg-white text-emerald-600 text-lg font-bold rounded-xl hover:bg-slate-100 transition shadow-lg\">\r\n              NGO: Find Food Nearby\r\n            </button>\r\n            <button className=\"px-8 py-4 bg-emerald-800 text-white text-lg font-bold rounded-xl hover:bg-emerald-900 transition shadow-lg\">\r\n              Donor: List Surplus Food\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Hero",
  "src\\components\\Navbar.js": "import Link from 'next/link'\r\nimport React from 'react'\r\n\r\nfunction Navbar() {\r\n  return (\r\n    <>\r\n    {/* --- Navigation --- */}\r\n      <nav className=\"flex items-center justify-between px-8 py-6 bg-white shadow-sm\">\r\n        <div className=\"text-2xl font-bold text-emerald-600\">FoodLink</div>\r\n        <div className=\"hidden md:flex space-x-8 font-medium\">\r\n          <Link href=\"#how-it-works\" className=\"hover:text-emerald-600 transition\">How it Works</Link>\r\n          <Link href=\"#impact\" className=\"hover:text-emerald-600 transition\">Our Impact</Link>\r\n          <Link href=\"#listings\" className=\"hover:text-emerald-600 transition\">Live Listings</Link>\r\n        </div>\r\n        <div className=\"flex space-x-4\">\r\n            <Link href={'/log-in'}>\r\n          <button className=\"px-5 py-2 text-emerald-600 font-semibold border border-emerald-600 rounded-lg hover:bg-emerald-50 transition\">\r\n            Login\r\n          </button>\r\n            </Link>\r\n          {/* <button className=\"px-5 py-2 bg-emerald-600 text-white font-semibold rounded-lg hover:bg-emerald-700 shadow-md transition\">\r\n            Join as Donor\r\n            </button> */}\r\n        </div>\r\n      </nav>\r\n            </>\r\n  )\r\n}\r\n\r\nexport default Navbar",
  "src\\components\\Providers.js": "\"use client\";\r\nimport { SessionProvider } from \"next-auth/react\";\r\n\r\nexport default function Providers({ children }) {\r\n  return <SessionProvider>{children}</SessionProvider>;\r\n}",
  "src\\features\\auth\\actions.js": "\"use server\";\r\nimport connectDB from \"@/lib/db\";\r\nimport User from \"@/models/User\";\r\nimport bcrypt from \"bcryptjs\";\r\n\r\nexport async function registerUser(formData) {\r\n  try {\r\n    await connectDB();\r\n    const { name, email, password, role } = formData;\r\n    const normalizedEmail = email.toLowerCase();\r\n\r\n    const existingUser = await User.findOne({ email: normalizedEmail });\r\n    if (existingUser) return { error: \"User already exists\" };\r\n\r\n    // FIX: You must define hashedPassword before using it in the new User()\r\n    const salt = await bcrypt.genSalt(12);\r\n    const hashedPassword = await bcrypt.hash(password, salt);\r\n\r\n    const newUser = new User({\r\n      name,\r\n      email: normalizedEmail,\r\n      password: hashedPassword, // Now this variable exists\r\n      role,\r\n    });\r\n\r\n    await newUser.save();\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Registration Error:\", error);\r\n    return { error: \"Registration failed. Please try again.\" };\r\n  }\r\n}",
  "src\\features\\donor\\actions.js": "",
  "src\\features\\organisation\\actions.js": "",
  "src\\lib\\db.js": "import mongoose from \"mongoose\";\r\n\r\nconst MONGODB_URI = process.env.MONGODB_URI;\r\n\r\nif (!MONGODB_URI) {\r\n  throw new Error(\"Please define the MONGODB_URI environment variable\");\r\n}\r\n\r\nlet cached = global.mongoose || { conn: null, promise: null };\r\n\r\nasync function connectDB() {\r\n  if (cached.conn) return cached.conn;\r\n\r\nif (!cached.promise) {\r\n  console.log(\"Creating new MongoDB connection...\");\r\n  cached.promise = mongoose.connect(MONGODB_URI).then((m) => {\r\n    console.log(\"MongoDB Connected Successfully\");\r\n    return m;\r\n  });\r\n}\r\n  \r\n  cached.conn = await cached.promise;\r\n  return cached.conn;\r\n}\r\n\r\nexport default connectDB;",
  "src\\middleware.js": "import { withAuth } from \"next-auth/middleware\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport default withAuth(\r\n  function middleware(req) {\r\n    const token = req.nextauth.token;\r\n    const path = req.nextUrl.pathname; // Fixed: Use nextUrl, not nextrole\r\n\r\n    // 1. Prevent Donors from seeing NGO pages\r\n    if (path.startsWith(\"/organisation\") && token?.role !== \"ngo\") {\r\n      return NextResponse.redirect(new URL(\"/donor\", req.url));\r\n    }\r\n\r\n    // 2. Prevent NGOs from seeing Donor pages\r\n    if (path.startsWith(\"/donor\") && token?.role !== \"donor\") {\r\n      return NextResponse.redirect(new URL(\"/organisation\", req.url));\r\n    }\r\n  },\r\n  {\r\n    callbacks: {\r\n      // The middleware only runs if authorized returns true\r\n      authorized: ({ token }) => !!token,\r\n    },\r\n  }\r\n);\r\n\r\n// CRITICAL: This config determines where the middleware runs\r\nexport const config = { \r\n  matcher: [\r\n    /*\r\n     * Match only the dashboard routes. \r\n     * Do NOT match /log-in, /register, or /api routes.\r\n     */\r\n    \"/donor/:path*\", \r\n    \"/organisation/:path*\"\r\n  ] \r\n};",
  "src\\models\\User.js": "import mongoose from \"mongoose\";\r\n\r\nconst UserSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  email: { type: String, unique: true, required: true },\r\n  password: { type: String, required: true },\r\n  role: { \r\n    type: String, \r\n    enum: [\"donor\", \"ngo\"], \r\n    required: true \r\n  },\r\n}, { timestamps: true });\r\n\r\nexport default mongoose.models.User || mongoose.model(\"User\", UserSchema);"
}